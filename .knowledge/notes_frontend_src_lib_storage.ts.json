{"is_source_file": true, "format": "TypeScript", "description": "This file provides an in-memory and localStorage-backed storage API for managing notes, including creation, retrieval, updating, deletion, and searching notes.", "external_files": ["localStorage", "crypto"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "crypto.randomUUID", "Date.now"], "published": ["loadNotes", "saveNotes", "createNote", "updateNote", "deleteNote", "searchNotes", "Note"], "classes": [], "methods": [{"name": "export function loadNotes(): Note[] { loadNotes", "description": "Loads notes from localStorage, returning a sorted array of notes by updatedAt descending.", "scope": "", "scopeKind": ""}, {"name": "export function saveNotes(notes: Note[]): void { saveNotes", "description": "Persists the provided notes array to localStorage.", "scope": "", "scopeKind": ""}, {"name": "export function createNote(partial?: Partial<Note>): Note { createNote", "description": "Creates a new note with optional partial data, assigns a unique id, sets current timestamp, saves, and returns it.", "scope": "", "scopeKind": ""}, {"name": "export function updateNote(id: string, updates: Partial<Note>): Note | null { updateNote", "description": "Updates an existing note identified by id with provided partial updates, updates timestamp, saves, and returns the updated note.", "scope": "", "scopeKind": ""}, {"name": "export function deleteNote(id: string): boolean { deleteNote", "description": "Deletes a note by id from storage, returns true if a note was deleted.", "scope": "", "scopeKind": ""}, {"name": "export function searchNotes(q: string): Note[] { searchNotes", "description": "Searches notes by title case-insensitively, returning matching notes.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "localStorage.setItem", "crypto.randomUUID", "Date.now"], "search-terms": ["storage", "notes", "localStorage", "Note", "CRUD", "search", "persistence"], "state": 2, "file_id": 8, "knowledge_revision": 17, "git_revision": "", "ctags": [{"_type": "tag", "name": "JSON", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^    const notes: Note[] = raw ? JSON.parse(raw) : [];$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^export function createNote(partial?: Partial<Note>): Note {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "crypto", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^    id: crypto.randomUUID ? crypto.randomUUID() : String(now) + Math.random().toString(16).slice/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^export function deleteNote(id: string): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const idx = notes.findIndex(n => n.id === id);$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const updated: Note = { ...notes[idx], ...updates, updatedAt: Date.now() };$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "loadNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^export function loadNotes(): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const next = [...notes];$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const next = [note, ...notes];$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const next = notes.filter(n => n.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const note: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^    const notes: Note[] = raw ? JSON.parse(raw) : [];$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "searchNotes", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const notes = loadNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const now = Date.now();$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const query = (q || '').toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "searchNotes", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^    const raw = localStorage.getItem('notes.store.v1');$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "saveNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^export function saveNotes(notes: Note[]): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "searchNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^export function searchNotes(q: string): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^export function updateNote(id: string, updates: Partial<Note>): Note | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const updated: Note = { ...notes[idx], ...updates, updatedAt: Date.now() };$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-178489-178523/notes_frontend/src/lib/storage.ts", "pattern": "/^  const updated: Note = { ...notes[idx], ...updates, updatedAt: Date.now() };$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}], "hash": "d4d59c8745bb40ee6061543e532854d0", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/storage.ts", "revision_history": [{"17": ""}]}